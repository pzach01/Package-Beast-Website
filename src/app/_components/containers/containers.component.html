<div class="container d-flex flex-column overflow-hidden view-container">
    <div class="d-flex flex-row justify-content-between mb-3 mt-3">
        <div></div>
        <h3>Shipping Containers</h3>
        <p class="flex-column d-flex justify-content-end">
            <button class="newButton" mat-raised-button color="accent" (click)="openDialog()" type="button">New
                Container</button>
        </p>
    </div>

    <!-- <button class="btn btn-primary" (click)="openDialog()">New Item</button> -->

    <div class="d-flex flex-row">
        <mat-form-field class="full-width">
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" autocomplete="off"
                placeholder="SKU, Description, or Dimension">
        </mat-form-field>
    </div>

    <div class="tbl-container w-100">
        <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 flex-fill">

            <!-- SKU Column -->
            <ng-container matColumnDef="sku">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    SKU
                </th>
                <td mat-cell *matCellDef="let container"> {{container.sku}} </td>
            </ng-container>

            <!-- Description Column -->
            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Description
                </th>
                <td mat-cell *matCellDef="let container"> {{container.description}} </td>
            </ng-container>

            <!-- Length Column -->
            <ng-container matColumnDef="length">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Length ({{currentUser.units}})
                </th>
                <td mat-cell *matCellDef="let container">
                    {{container.yDim | units: container.units: currentUser.units | number:'1.0-3'}} </td>
            </ng-container>

            <!-- Width Column -->
            <ng-container matColumnDef="width">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Width ({{currentUser.units}})
                </th>
                <td mat-cell *matCellDef="let container">
                    {{container.zDim | units: container.units: currentUser.units | number:'1.0-3'}} </td>
            </ng-container>

            <!-- Height Column -->
            <ng-container matColumnDef="height">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Height ({{currentUser.units}})
                </th>
                <td mat-cell *matCellDef="let container">
                    {{container.xDim | units: container.units: currentUser.units | number:'1.0-3'}} </td>
            </ng-container>

            <!-- Volume Column -->
            <ng-container matColumnDef="volume">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Volume ({{currentUser.units}}<sup>3</sup>)
                </th>
                <td mat-cell *matCellDef="let container">
                    {{container.volume | volumeUnits: container.units: currentUser.units | number:'1.0-0'}} </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr [class.newOrEdited]="container===newOrEditedContainer" mat-row
                (click)="openEditContainerDialog(container)" *matRowDef=" let container; columns:
                        displayedColumns;">
            </tr>
        </table>
    </div>
    <div class="d-flex justify-content-center pt-5" *ngIf="loading" style="height: 50vh;">
        <mat-spinner color="accent" *ngIf="loading"></mat-spinner>
    </div>
</div>