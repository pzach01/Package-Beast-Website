<div class="fixActionRow">
    <button type="button" class="close" (click)="close()" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
    <h1 mat-dialog-title>New Shipment</h1>
    <mat-dialog-content>

        <mat-horizontal-stepper #stepper (selectionChange)="selectionChange()">
            <mat-step>
                <ng-template matStepLabel>Select Items to Ship</ng-template>

                <div class="container-fluid">
                    <div class="d-flex flex-column justify-content-center">
                        <app-items-selection></app-items-selection>
                    </div>
                </div>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Select Shipping Containers</ng-template>
                <div class="container-fluid">
                    <div class="d-flex flex-column justify-content-center">
                        <app-containers-selection></app-containers-selection>
                    </div>
                </div>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Review</ng-template>
                <div class="container-fluid">
                    <div class="d-flex flex-column justify-content-center">
                        <app-review-shipment [selectedContainers]="selectedContainers" [selectedItems]="selectedItems">
                        </app-review-shipment>
                    </div>
                </div>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-dialog-content>
    <div class="empty-space"></div>

    <mat-dialog-actions>
        <button *ngIf="stepper.selectedIndex > 0" class="empty-space" [disabled]="loading" color="primary"
            (click)="stepper.previous()" mat-raised-button type="button">Back</button>
        <button *ngIf="stepper.selectedIndex < 2" class="empty-space" [disabled]="loading" color="primary"
            mat-raised-button (click)="stepper.next()" type="button">Next</button>
        <button *ngIf="stepper.selectedIndex == 2" class="empty-space" [disabled]="loading" color="primary"
            mat-raised-button (click)="analyze()" type="button">Analyze</button>
        <div class="pl-2 pr-2" *ngIf=loading>
            <mat-progress-spinner mode="determinate" [value]="spinnerValue" color="accent">
            </mat-progress-spinner>
            <div class="percent-complete">{{spinnerValue | number: '1.0-0'}}%</div>
        </div>
        <mat-progress-bar style="height: 10px;" class="mt-3 mb-2" color="accent" mode="determinate"
            [value]="spinnerValue">
        </mat-progress-bar>

    </mat-dialog-actions>
</div>